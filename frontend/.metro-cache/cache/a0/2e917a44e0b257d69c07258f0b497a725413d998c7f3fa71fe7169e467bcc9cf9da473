{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"../components/MapPlaceholder","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":109},"end":{"line":3,"column":58,"index":167}}],"key":"IWqJ+xhBFRX1rB9a0/sb8pw3+es=","exportNames":["*"],"imports":1}},{"name":"./env","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":168},"end":{"line":4,"column":37,"index":205}}],"key":"dhYnhmtx0Ij5vR3SSIalcSex/FI=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}},{"name":"mapbox-gl","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":13,"index":320},"end":{"line":9,"column":33,"index":340}}],"key":"ao1a+3Re9AZ8/2CUrMUurShP6m4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/services/map.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return DemoMap;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _reactNativeWebDistExportsView = require(_dependencyMap[2], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[3], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _componentsMapPlaceholder = require(_dependencyMap[4], \"../components/MapPlaceholder\");\n  var MapPlaceholder = _interopDefault(_componentsMapPlaceholder);\n  var _env = require(_dependencyMap[5], \"./env\");\n  var _reactJsxDevRuntime = require(_dependencyMap[6], \"react/jsx-dev-runtime\");\n  let mapboxgl = null;\n  if (Platform.default.OS === 'web') {\n    // Lazy import to avoid bundling on native\n    mapboxgl = require(_dependencyMap[7], \"mapbox-gl\");\n  }\n  function DemoMap({\n    countries,\n    onSelectCountry\n  }) {\n    const mapRef = (0, _react.useRef)(null);\n    const mapInstance = (0, _react.useRef)(null);\n    (0, _react.useEffect)(() => {\n      if (Platform.default.OS !== 'web') return; // native: use placeholder\n      if (!mapRef.current || mapInstance.current) return;\n      try {\n        mapboxgl.accessToken = _env.MAPBOX_TOKEN;\n        // Basic world view with OSM style fallback\n        const style = 'mapbox://styles/mapbox/light-v11';\n        const map = new mapboxgl.Map({\n          container: mapRef.current,\n          style,\n          center: [80, 20],\n          zoom: 1.4\n        });\n        map.addControl(new mapboxgl.NavigationControl({\n          showCompass: false\n        }));\n\n        // Add simple markers for known countries with rough lng/lat\n        const coords = {\n          Japan: [139.6917, 35.6895],\n          Bali: [115.1889, -8.4095],\n          Goa: [73.7997, 15.2993]\n        };\n        map.on('load', () => {\n          Object.entries(coords).forEach(([name, [lng, lat]]) => {\n            if (!countries.includes(name)) return;\n            const el = document.createElement('div');\n            el.style.width = '10px';\n            el.style.height = '10px';\n            el.style.borderRadius = '999px';\n            el.style.background = '#e6e1d9';\n            el.style.cursor = 'pointer';\n            el.onclick = () => onSelectCountry(name);\n            new mapboxgl.Marker(el).setLngLat([lng, lat]).addTo(map);\n          });\n        });\n        mapInstance.current = map;\n      } catch (e) {\n        // fallback: nothing; placeholder below renders for native\n      }\n    }, [countries, onSelectCountry]);\n    if (Platform.default.OS === 'web') {\n      return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n        style: styles.webMap,\n        ref: mapRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 12\n      }, this);\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.wrap,\n      children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(MapPlaceholder.default, {\n        countries: countries,\n        onSelectCountry: onSelectCountry\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }, this);\n  }\n  const styles = StyleSheet.default.create({\n    webMap: {\n      width: '92%',\n      height: 200,\n      borderRadius: 16,\n      overflow: 'hidden'\n    },\n    wrap: {\n      width: '100%',\n      alignItems: 'center'\n    }\n  });\n});","lineCount":120,"map":[[13,2,12,15,"Object"],[13,8,12,15],[13,9,12,15,"defineProperty"],[13,23,12,15],[13,24,12,15,"exports"],[13,31,12,15],[14,4,12,15,"enumerable"],[14,14,12,15],[15,4,12,15,"get"],[15,7,12,15],[15,18,12,15,"get"],[15,19,12,15],[16,6,12,15],[16,13,12,15,"DemoMap"],[16,20,12,15],[17,4,12,15],[18,2,12,15],[19,2,1,0],[19,6,1,0,"_react"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,1,49],[20,6,1,49,"_reactNativeWebDistExportsPlatform"],[20,40,1,49],[20,43,1,49,"require"],[20,50,1,49],[20,51,1,49,"_dependencyMap"],[20,65,1,49],[21,2,1,49],[21,6,1,49,"Platform"],[21,14,1,49],[21,17,1,49,"_interopDefault"],[21,32,1,49],[21,33,1,49,"_reactNativeWebDistExportsPlatform"],[21,67,1,49],[22,2,1,49],[22,6,1,49,"_reactNativeWebDistExportsView"],[22,36,1,49],[22,39,1,49,"require"],[22,46,1,49],[22,47,1,49,"_dependencyMap"],[22,61,1,49],[23,2,1,49],[23,6,1,49,"View"],[23,10,1,49],[23,13,1,49,"_interopDefault"],[23,28,1,49],[23,29,1,49,"_reactNativeWebDistExportsView"],[23,59,1,49],[24,2,1,49],[24,6,1,49,"_reactNativeWebDistExportsStyleSheet"],[24,42,1,49],[24,45,1,49,"require"],[24,52,1,49],[24,53,1,49,"_dependencyMap"],[24,67,1,49],[25,2,1,49],[25,6,1,49,"StyleSheet"],[25,16,1,49],[25,19,1,49,"_interopDefault"],[25,34,1,49],[25,35,1,49,"_reactNativeWebDistExportsStyleSheet"],[25,71,1,49],[26,2,3,0],[26,6,3,0,"_componentsMapPlaceholder"],[26,31,3,0],[26,34,3,0,"require"],[26,41,3,0],[26,42,3,0,"_dependencyMap"],[26,56,3,0],[27,2,3,0],[27,6,3,0,"MapPlaceholder"],[27,20,3,0],[27,23,3,0,"_interopDefault"],[27,38,3,0],[27,39,3,0,"_componentsMapPlaceholder"],[27,64,3,0],[28,2,4,0],[28,6,4,0,"_env"],[28,10,4,0],[28,13,4,0,"require"],[28,20,4,0],[28,21,4,0,"_dependencyMap"],[28,35,4,0],[29,2,4,37],[29,6,4,37,"_reactJsxDevRuntime"],[29,25,4,37],[29,28,4,37,"require"],[29,35,4,37],[29,36,4,37,"_dependencyMap"],[29,50,4,37],[30,2,6,0],[30,6,6,4,"mapboxgl"],[30,14,6,17],[30,17,6,20],[30,21,6,24],[31,2,7,0],[31,6,7,4,"Platform"],[31,14,7,12],[31,15,7,12,"default"],[31,22,7,12],[31,23,7,13,"OS"],[31,25,7,15],[31,30,7,20],[31,35,7,25],[31,37,7,27],[32,4,8,2],[33,4,9,2,"mapboxgl"],[33,12,9,10],[33,15,9,13,"require"],[33,22,9,20],[33,23,9,20,"_dependencyMap"],[33,37,9,20],[33,53,9,32],[33,54,9,33],[34,2,10,0],[35,2,12,15],[35,11,12,24,"DemoMap"],[35,18,12,31,"DemoMap"],[35,19,12,32],[36,4,12,34,"countries"],[36,13,12,43],[37,4,12,45,"onSelectCountry"],[38,2,12,124],[38,3,12,125],[38,5,12,127],[39,4,13,2],[39,10,13,8,"mapRef"],[39,16,13,14],[39,19,13,17],[39,23,13,17,"useRef"],[39,29,13,23],[39,30,13,23,"useRef"],[39,36,13,23],[39,38,13,47],[39,42,13,51],[39,43,13,52],[40,4,14,2],[40,10,14,8,"mapInstance"],[40,21,14,19],[40,24,14,22],[40,28,14,22,"useRef"],[40,34,14,28],[40,35,14,28,"useRef"],[40,41,14,28],[40,43,14,34],[40,47,14,38],[40,48,14,39],[41,4,16,2],[41,8,16,2,"useEffect"],[41,14,16,11],[41,15,16,11,"useEffect"],[41,24,16,11],[41,26,16,12],[41,32,16,18],[42,6,17,4],[42,10,17,8,"Platform"],[42,18,17,16],[42,19,17,16,"default"],[42,26,17,16],[42,27,17,17,"OS"],[42,29,17,19],[42,34,17,24],[42,39,17,29],[42,41,17,31],[42,48,17,38],[42,49,17,39],[43,6,18,4],[43,10,18,8],[43,11,18,9,"mapRef"],[43,17,18,15],[43,18,18,16,"current"],[43,25,18,23],[43,29,18,27,"mapInstance"],[43,40,18,38],[43,41,18,39,"current"],[43,48,18,46],[43,50,18,48],[44,6,19,4],[44,10,19,8],[45,8,20,6,"mapboxgl"],[45,16,20,14],[45,17,20,15,"accessToken"],[45,28,20,26],[45,31,20,29,"MAPBOX_TOKEN"],[45,35,20,41],[45,36,20,41,"MAPBOX_TOKEN"],[45,48,20,41],[46,8,21,6],[47,8,22,6],[47,14,22,12,"style"],[47,19,22,17],[47,22,22,20],[47,56,22,54],[48,8,23,6],[48,14,23,12,"map"],[48,17,23,15],[48,20,23,18],[48,24,23,22,"mapboxgl"],[48,32,23,30],[48,33,23,31,"Map"],[48,36,23,34],[48,37,23,35],[49,10,24,8,"container"],[49,19,24,17],[49,21,24,19,"mapRef"],[49,27,24,25],[49,28,24,26,"current"],[49,35,24,33],[50,10,25,8,"style"],[50,15,25,13],[51,10,26,8,"center"],[51,16,26,14],[51,18,26,16],[51,19,26,17],[51,21,26,19],[51,23,26,21],[51,25,26,23],[51,26,26,24],[52,10,27,8,"zoom"],[52,14,27,12],[52,16,27,14],[53,8,28,6],[53,9,28,7],[53,10,28,8],[54,8,29,6,"map"],[54,11,29,9],[54,12,29,10,"addControl"],[54,22,29,20],[54,23,29,21],[54,27,29,25,"mapboxgl"],[54,35,29,33],[54,36,29,34,"NavigationControl"],[54,53,29,51],[54,54,29,52],[55,10,29,54,"showCompass"],[55,21,29,65],[55,23,29,67],[56,8,29,73],[56,9,29,74],[56,10,29,75],[56,11,29,76],[58,8,31,6],[59,8,32,6],[59,14,32,12,"coords"],[59,20,32,52],[59,23,32,55],[60,10,33,8,"Japan"],[60,15,33,13],[60,17,33,15],[60,18,33,16],[60,26,33,24],[60,28,33,26],[60,35,33,33],[60,36,33,34],[61,10,34,8,"Bali"],[61,14,34,12],[61,16,34,14],[61,17,34,15],[61,25,34,23],[61,27,34,25],[61,28,34,26],[61,34,34,32],[61,35,34,33],[62,10,35,8,"Goa"],[62,13,35,11],[62,15,35,13],[62,16,35,14],[62,23,35,21],[62,25,35,23],[62,32,35,30],[63,8,36,6],[63,9,36,7],[64,8,38,6,"map"],[64,11,38,9],[64,12,38,10,"on"],[64,14,38,12],[64,15,38,13],[64,21,38,19],[64,23,38,21],[64,29,38,27],[65,10,39,8,"Object"],[65,16,39,14],[65,17,39,15,"entries"],[65,24,39,22],[65,25,39,23,"coords"],[65,31,39,29],[65,32,39,30],[65,33,39,31,"forEach"],[65,40,39,38],[65,41,39,39],[65,42,39,40],[65,43,39,41,"name"],[65,47,39,45],[65,49,39,47],[65,50,39,48,"lng"],[65,53,39,51],[65,55,39,53,"lat"],[65,58,39,56],[65,59,39,57],[65,60,39,58],[65,65,39,63],[66,12,40,10],[66,16,40,14],[66,17,40,15,"countries"],[66,26,40,24],[66,27,40,25,"includes"],[66,35,40,33],[66,36,40,34,"name"],[66,40,40,38],[66,41,40,39],[66,43,40,41],[67,12,41,10],[67,18,41,16,"el"],[67,20,41,18],[67,23,41,21,"document"],[67,31,41,29],[67,32,41,30,"createElement"],[67,45,41,43],[67,46,41,44],[67,51,41,49],[67,52,41,50],[68,12,42,10,"el"],[68,14,42,12],[68,15,42,13,"style"],[68,20,42,18],[68,21,42,19,"width"],[68,26,42,24],[68,29,42,27],[68,35,42,33],[69,12,43,10,"el"],[69,14,43,12],[69,15,43,13,"style"],[69,20,43,18],[69,21,43,19,"height"],[69,27,43,25],[69,30,43,28],[69,36,43,34],[70,12,44,10,"el"],[70,14,44,12],[70,15,44,13,"style"],[70,20,44,18],[70,21,44,19,"borderRadius"],[70,33,44,31],[70,36,44,34],[70,43,44,41],[71,12,45,10,"el"],[71,14,45,12],[71,15,45,13,"style"],[71,20,45,18],[71,21,45,19,"background"],[71,31,45,29],[71,34,45,32],[71,43,45,41],[72,12,46,10,"el"],[72,14,46,12],[72,15,46,13,"style"],[72,20,46,18],[72,21,46,19,"cursor"],[72,27,46,25],[72,30,46,28],[72,39,46,37],[73,12,47,10,"el"],[73,14,47,12],[73,15,47,13,"onclick"],[73,22,47,20],[73,25,47,23],[73,31,47,29,"onSelectCountry"],[73,46,47,44],[73,47,47,45,"name"],[73,51,47,49],[73,52,47,50],[74,12,48,10],[74,16,48,14,"mapboxgl"],[74,24,48,22],[74,25,48,23,"Marker"],[74,31,48,29],[74,32,48,30,"el"],[74,34,48,32],[74,35,48,33],[74,36,48,34,"setLngLat"],[74,45,48,43],[74,46,48,44],[74,47,48,45,"lng"],[74,50,48,48],[74,52,48,50,"lat"],[74,55,48,53],[74,56,48,54],[74,57,48,55],[74,58,48,56,"addTo"],[74,63,48,61],[74,64,48,62,"map"],[74,67,48,65],[74,68,48,66],[75,10,49,8],[75,11,49,9],[75,12,49,10],[76,8,50,6],[76,9,50,7],[76,10,50,8],[77,8,52,6,"mapInstance"],[77,19,52,17],[77,20,52,18,"current"],[77,27,52,25],[77,30,52,28,"map"],[77,33,52,31],[78,6,53,4],[78,7,53,5],[78,8,53,6],[78,15,53,13,"e"],[78,16,53,14],[78,18,53,16],[79,8,54,6],[80,6,54,6],[81,4,56,2],[81,5,56,3],[81,7,56,5],[81,8,56,6,"countries"],[81,17,56,15],[81,19,56,17,"onSelectCountry"],[81,34,56,32],[81,35,56,33],[81,36,56,34],[82,4,58,2],[82,8,58,6,"Platform"],[82,16,58,14],[82,17,58,14,"default"],[82,24,58,14],[82,25,58,15,"OS"],[82,27,58,17],[82,32,58,22],[82,37,58,27],[82,39,58,29],[83,6,59,4],[83,26,59,11],[83,30,59,11,"_reactJsxDevRuntime"],[83,49,59,11],[83,50,59,11,"jsxDEV"],[83,56,59,11],[83,58,59,12,"View"],[83,62,59,16],[83,63,59,16,"default"],[83,70,59,16],[84,8,59,17,"style"],[84,13,59,22],[84,15,59,24,"styles"],[84,21,59,30],[84,22,59,31,"webMap"],[84,28,59,38],[85,8,59,39,"ref"],[85,11,59,42],[85,13,59,44,"mapRef"],[86,6,59,58],[87,8,59,58,"fileName"],[87,16,59,58],[87,18,59,58,"_jsxFileName"],[87,30,59,58],[88,8,59,58,"lineNumber"],[88,18,59,58],[89,8,59,58,"columnNumber"],[89,20,59,58],[90,6,59,58],[90,13,59,60],[90,14,59,61],[91,4,60,2],[92,4,61,2],[92,24,62,4],[92,28,62,4,"_reactJsxDevRuntime"],[92,47,62,4],[92,48,62,4,"jsxDEV"],[92,54,62,4],[92,56,62,5,"View"],[92,60,62,9],[92,61,62,9,"default"],[92,68,62,9],[93,6,62,10,"style"],[93,11,62,15],[93,13,62,17,"styles"],[93,19,62,23],[93,20,62,24,"wrap"],[93,24,62,29],[94,6,62,29,"children"],[94,14,62,29],[94,29,63,6],[94,33,63,6,"_reactJsxDevRuntime"],[94,52,63,6],[94,53,63,6,"jsxDEV"],[94,59,63,6],[94,61,63,7,"MapPlaceholder"],[94,75,63,21],[94,76,63,21,"default"],[94,83,63,21],[95,8,63,22,"countries"],[95,17,63,31],[95,19,63,33,"countries"],[95,28,63,43],[96,8,63,44,"onSelectCountry"],[96,23,63,59],[96,25,63,61,"onSelectCountry"],[97,6,63,77],[98,8,63,77,"fileName"],[98,16,63,77],[98,18,63,77,"_jsxFileName"],[98,30,63,77],[99,8,63,77,"lineNumber"],[99,18,63,77],[100,8,63,77,"columnNumber"],[100,20,63,77],[101,6,63,77],[101,13,63,79],[102,4,63,80],[103,6,63,80,"fileName"],[103,14,63,80],[103,16,63,80,"_jsxFileName"],[103,28,63,80],[104,6,63,80,"lineNumber"],[104,16,63,80],[105,6,63,80,"columnNumber"],[105,18,63,80],[106,4,63,80],[106,11,64,10],[106,12,64,11],[107,2,66,0],[108,2,68,0],[108,8,68,6,"styles"],[108,14,68,12],[108,17,68,15,"StyleSheet"],[108,27,68,25],[108,28,68,25,"default"],[108,35,68,25],[108,36,68,26,"create"],[108,42,68,32],[108,43,68,33],[109,4,69,2,"webMap"],[109,10,69,8],[109,12,69,10],[110,6,69,12,"width"],[110,11,69,17],[110,13,69,19],[110,18,69,24],[111,6,69,26,"height"],[111,12,69,32],[111,14,69,34],[111,17,69,37],[112,6,69,39,"borderRadius"],[112,18,69,51],[112,20,69,53],[112,22,69,55],[113,6,69,57,"overflow"],[113,14,69,65],[113,16,69,67],[114,4,69,76],[114,5,69,77],[115,4,70,2,"wrap"],[115,8,70,6],[115,10,70,8],[116,6,70,10,"width"],[116,11,70,15],[116,13,70,17],[116,19,70,23],[117,6,70,25,"alignItems"],[117,16,70,35],[117,18,70,37],[118,4,70,46],[119,2,71,0],[119,3,71,1],[119,4,71,2],[120,0,71,3],[120,3]],"functionMap":{"names":["<global>","DemoMap","useEffect$argument_0","on$argument_1","Object.entries.forEach$argument_0","el.onclick"],"mappings":"AAA;eCW;YCI;qBCsB;uCCC;uBCQ,2BD;SDE;ODC;GDM;CDU"},"hasCjsExports":false},"type":"js/module"}]}