{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"../components/MapPlaceholder","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":109},"end":{"line":3,"column":58,"index":167}}],"key":"IWqJ+xhBFRX1rB9a0/sb8pw3+es=","exportNames":["*"],"imports":1}},{"name":"./env","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":168},"end":{"line":4,"column":37,"index":205}}],"key":"dhYnhmtx0Ij5vR3SSIalcSex/FI=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}},{"name":"mapbox-gl","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":13,"index":320},"end":{"line":9,"column":33,"index":340}}],"key":"ao1a+3Re9AZ8/2CUrMUurShP6m4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/services/map.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return DemoMap;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _reactNativeWebDistExportsView = require(_dependencyMap[2], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[3], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _componentsMapPlaceholder = require(_dependencyMap[4], \"../components/MapPlaceholder\");\n  var MapPlaceholder = _interopDefault(_componentsMapPlaceholder);\n  var _env = require(_dependencyMap[5], \"./env\");\n  var _reactJsxDevRuntime = require(_dependencyMap[6], \"react/jsx-dev-runtime\");\n  let mapboxgl = null;\n  if (Platform.default.OS === 'web') {\n    // Lazy import to avoid bundling on native\n    mapboxgl = require(_dependencyMap[7], \"mapbox-gl\");\n  }\n  function DemoMap({\n    countries,\n    onSelectCountry\n  }) {\n    _s();\n    const mapRef = (0, _react.useRef)(null);\n    const mapInstance = (0, _react.useRef)(null);\n    (0, _react.useEffect)(() => {\n      if (Platform.default.OS !== 'web') return; // native: use placeholder\n      if (!mapRef.current || mapInstance.current) return;\n      try {\n        mapboxgl.accessToken = _env.MAPBOX_TOKEN;\n        // Basic world view with OSM style fallback\n        const style = 'mapbox://styles/mapbox/light-v11';\n        const map = new mapboxgl.Map({\n          container: mapRef.current,\n          style,\n          center: [80, 20],\n          zoom: 1.4\n        });\n        map.addControl(new mapboxgl.NavigationControl({\n          showCompass: false\n        }));\n\n        // Add simple markers for known countries with rough lng/lat\n        const coords = {\n          Japan: [139.6917, 35.6895],\n          Bali: [115.1889, -8.4095],\n          Goa: [73.7997, 15.2993]\n        };\n        map.on('load', () => {\n          Object.entries(coords).forEach(([name, [lng, lat]]) => {\n            if (!countries.includes(name)) return;\n            const el = document.createElement('div');\n            el.style.width = '10px';\n            el.style.height = '10px';\n            el.style.borderRadius = '999px';\n            el.style.background = '#e6e1d9';\n            el.style.cursor = 'pointer';\n            el.onclick = () => onSelectCountry(name);\n            new mapboxgl.Marker(el).setLngLat([lng, lat]).addTo(map);\n          });\n        });\n        mapInstance.current = map;\n      } catch (e) {\n        // fallback: nothing; placeholder below renders for native\n      }\n    }, [countries, onSelectCountry]);\n    if (Platform.default.OS === 'web') {\n      return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n        style: styles.webMap,\n        ref: mapRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 12\n      }, this);\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.wrap,\n      children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(MapPlaceholder.default, {\n        countries: countries,\n        onSelectCountry: onSelectCountry\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }, this);\n  }\n  _s(DemoMap, \"jj23UBFmYip2SDX5FMmvO4fZUgM=\");\n  _c = DemoMap;\n  const styles = StyleSheet.default.create({\n    webMap: {\n      width: '92%',\n      height: 200,\n      borderRadius: 16,\n      overflow: 'hidden'\n    },\n    wrap: {\n      width: '100%',\n      alignItems: 'center'\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"DemoMap\");\n});","lineCount":126,"map":[[14,2,12,15,"Object"],[14,8,12,15],[14,9,12,15,"defineProperty"],[14,23,12,15],[14,24,12,15,"exports"],[14,31,12,15],[15,4,12,15,"enumerable"],[15,14,12,15],[16,4,12,15,"get"],[16,7,12,15],[16,18,12,15,"get"],[16,19,12,15],[17,6,12,15],[17,13,12,15,"DemoMap"],[17,20,12,15],[18,4,12,15],[19,2,12,15],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,1,49],[21,6,1,49,"_reactNativeWebDistExportsPlatform"],[21,40,1,49],[21,43,1,49,"require"],[21,50,1,49],[21,51,1,49,"_dependencyMap"],[21,65,1,49],[22,2,1,49],[22,6,1,49,"Platform"],[22,14,1,49],[22,17,1,49,"_interopDefault"],[22,32,1,49],[22,33,1,49,"_reactNativeWebDistExportsPlatform"],[22,67,1,49],[23,2,1,49],[23,6,1,49,"_reactNativeWebDistExportsView"],[23,36,1,49],[23,39,1,49,"require"],[23,46,1,49],[23,47,1,49,"_dependencyMap"],[23,61,1,49],[24,2,1,49],[24,6,1,49,"View"],[24,10,1,49],[24,13,1,49,"_interopDefault"],[24,28,1,49],[24,29,1,49,"_reactNativeWebDistExportsView"],[24,59,1,49],[25,2,1,49],[25,6,1,49,"_reactNativeWebDistExportsStyleSheet"],[25,42,1,49],[25,45,1,49,"require"],[25,52,1,49],[25,53,1,49,"_dependencyMap"],[25,67,1,49],[26,2,1,49],[26,6,1,49,"StyleSheet"],[26,16,1,49],[26,19,1,49,"_interopDefault"],[26,34,1,49],[26,35,1,49,"_reactNativeWebDistExportsStyleSheet"],[26,71,1,49],[27,2,3,0],[27,6,3,0,"_componentsMapPlaceholder"],[27,31,3,0],[27,34,3,0,"require"],[27,41,3,0],[27,42,3,0,"_dependencyMap"],[27,56,3,0],[28,2,3,0],[28,6,3,0,"MapPlaceholder"],[28,20,3,0],[28,23,3,0,"_interopDefault"],[28,38,3,0],[28,39,3,0,"_componentsMapPlaceholder"],[28,64,3,0],[29,2,4,0],[29,6,4,0,"_env"],[29,10,4,0],[29,13,4,0,"require"],[29,20,4,0],[29,21,4,0,"_dependencyMap"],[29,35,4,0],[30,2,4,37],[30,6,4,37,"_reactJsxDevRuntime"],[30,25,4,37],[30,28,4,37,"require"],[30,35,4,37],[30,36,4,37,"_dependencyMap"],[30,50,4,37],[31,2,6,0],[31,6,6,4,"mapboxgl"],[31,14,6,17],[31,17,6,20],[31,21,6,24],[32,2,7,0],[32,6,7,4,"Platform"],[32,14,7,12],[32,15,7,12,"default"],[32,22,7,12],[32,23,7,13,"OS"],[32,25,7,15],[32,30,7,20],[32,35,7,25],[32,37,7,27],[33,4,8,2],[34,4,9,2,"mapboxgl"],[34,12,9,10],[34,15,9,13,"require"],[34,22,9,20],[34,23,9,20,"_dependencyMap"],[34,37,9,20],[34,53,9,32],[34,54,9,33],[35,2,10,0],[36,2,12,15],[36,11,12,24,"DemoMap"],[36,18,12,31,"DemoMap"],[36,19,12,32],[37,4,12,34,"countries"],[37,13,12,43],[38,4,12,45,"onSelectCountry"],[39,2,12,124],[39,3,12,125],[39,5,12,127],[40,4,12,127,"_s"],[40,6,12,127],[41,4,13,2],[41,10,13,8,"mapRef"],[41,16,13,14],[41,19,13,17],[41,23,13,17,"useRef"],[41,29,13,23],[41,30,13,23,"useRef"],[41,36,13,23],[41,38,13,47],[41,42,13,51],[41,43,13,52],[42,4,14,2],[42,10,14,8,"mapInstance"],[42,21,14,19],[42,24,14,22],[42,28,14,22,"useRef"],[42,34,14,28],[42,35,14,28,"useRef"],[42,41,14,28],[42,43,14,34],[42,47,14,38],[42,48,14,39],[43,4,16,2],[43,8,16,2,"useEffect"],[43,14,16,11],[43,15,16,11,"useEffect"],[43,24,16,11],[43,26,16,12],[43,32,16,18],[44,6,17,4],[44,10,17,8,"Platform"],[44,18,17,16],[44,19,17,16,"default"],[44,26,17,16],[44,27,17,17,"OS"],[44,29,17,19],[44,34,17,24],[44,39,17,29],[44,41,17,31],[44,48,17,38],[44,49,17,39],[45,6,18,4],[45,10,18,8],[45,11,18,9,"mapRef"],[45,17,18,15],[45,18,18,16,"current"],[45,25,18,23],[45,29,18,27,"mapInstance"],[45,40,18,38],[45,41,18,39,"current"],[45,48,18,46],[45,50,18,48],[46,6,19,4],[46,10,19,8],[47,8,20,6,"mapboxgl"],[47,16,20,14],[47,17,20,15,"accessToken"],[47,28,20,26],[47,31,20,29,"MAPBOX_TOKEN"],[47,35,20,41],[47,36,20,41,"MAPBOX_TOKEN"],[47,48,20,41],[48,8,21,6],[49,8,22,6],[49,14,22,12,"style"],[49,19,22,17],[49,22,22,20],[49,56,22,54],[50,8,23,6],[50,14,23,12,"map"],[50,17,23,15],[50,20,23,18],[50,24,23,22,"mapboxgl"],[50,32,23,30],[50,33,23,31,"Map"],[50,36,23,34],[50,37,23,35],[51,10,24,8,"container"],[51,19,24,17],[51,21,24,19,"mapRef"],[51,27,24,25],[51,28,24,26,"current"],[51,35,24,33],[52,10,25,8,"style"],[52,15,25,13],[53,10,26,8,"center"],[53,16,26,14],[53,18,26,16],[53,19,26,17],[53,21,26,19],[53,23,26,21],[53,25,26,23],[53,26,26,24],[54,10,27,8,"zoom"],[54,14,27,12],[54,16,27,14],[55,8,28,6],[55,9,28,7],[55,10,28,8],[56,8,29,6,"map"],[56,11,29,9],[56,12,29,10,"addControl"],[56,22,29,20],[56,23,29,21],[56,27,29,25,"mapboxgl"],[56,35,29,33],[56,36,29,34,"NavigationControl"],[56,53,29,51],[56,54,29,52],[57,10,29,54,"showCompass"],[57,21,29,65],[57,23,29,67],[58,8,29,73],[58,9,29,74],[58,10,29,75],[58,11,29,76],[60,8,31,6],[61,8,32,6],[61,14,32,12,"coords"],[61,20,32,52],[61,23,32,55],[62,10,33,8,"Japan"],[62,15,33,13],[62,17,33,15],[62,18,33,16],[62,26,33,24],[62,28,33,26],[62,35,33,33],[62,36,33,34],[63,10,34,8,"Bali"],[63,14,34,12],[63,16,34,14],[63,17,34,15],[63,25,34,23],[63,27,34,25],[63,28,34,26],[63,34,34,32],[63,35,34,33],[64,10,35,8,"Goa"],[64,13,35,11],[64,15,35,13],[64,16,35,14],[64,23,35,21],[64,25,35,23],[64,32,35,30],[65,8,36,6],[65,9,36,7],[66,8,38,6,"map"],[66,11,38,9],[66,12,38,10,"on"],[66,14,38,12],[66,15,38,13],[66,21,38,19],[66,23,38,21],[66,29,38,27],[67,10,39,8,"Object"],[67,16,39,14],[67,17,39,15,"entries"],[67,24,39,22],[67,25,39,23,"coords"],[67,31,39,29],[67,32,39,30],[67,33,39,31,"forEach"],[67,40,39,38],[67,41,39,39],[67,42,39,40],[67,43,39,41,"name"],[67,47,39,45],[67,49,39,47],[67,50,39,48,"lng"],[67,53,39,51],[67,55,39,53,"lat"],[67,58,39,56],[67,59,39,57],[67,60,39,58],[67,65,39,63],[68,12,40,10],[68,16,40,14],[68,17,40,15,"countries"],[68,26,40,24],[68,27,40,25,"includes"],[68,35,40,33],[68,36,40,34,"name"],[68,40,40,38],[68,41,40,39],[68,43,40,41],[69,12,41,10],[69,18,41,16,"el"],[69,20,41,18],[69,23,41,21,"document"],[69,31,41,29],[69,32,41,30,"createElement"],[69,45,41,43],[69,46,41,44],[69,51,41,49],[69,52,41,50],[70,12,42,10,"el"],[70,14,42,12],[70,15,42,13,"style"],[70,20,42,18],[70,21,42,19,"width"],[70,26,42,24],[70,29,42,27],[70,35,42,33],[71,12,43,10,"el"],[71,14,43,12],[71,15,43,13,"style"],[71,20,43,18],[71,21,43,19,"height"],[71,27,43,25],[71,30,43,28],[71,36,43,34],[72,12,44,10,"el"],[72,14,44,12],[72,15,44,13,"style"],[72,20,44,18],[72,21,44,19,"borderRadius"],[72,33,44,31],[72,36,44,34],[72,43,44,41],[73,12,45,10,"el"],[73,14,45,12],[73,15,45,13,"style"],[73,20,45,18],[73,21,45,19,"background"],[73,31,45,29],[73,34,45,32],[73,43,45,41],[74,12,46,10,"el"],[74,14,46,12],[74,15,46,13,"style"],[74,20,46,18],[74,21,46,19,"cursor"],[74,27,46,25],[74,30,46,28],[74,39,46,37],[75,12,47,10,"el"],[75,14,47,12],[75,15,47,13,"onclick"],[75,22,47,20],[75,25,47,23],[75,31,47,29,"onSelectCountry"],[75,46,47,44],[75,47,47,45,"name"],[75,51,47,49],[75,52,47,50],[76,12,48,10],[76,16,48,14,"mapboxgl"],[76,24,48,22],[76,25,48,23,"Marker"],[76,31,48,29],[76,32,48,30,"el"],[76,34,48,32],[76,35,48,33],[76,36,48,34,"setLngLat"],[76,45,48,43],[76,46,48,44],[76,47,48,45,"lng"],[76,50,48,48],[76,52,48,50,"lat"],[76,55,48,53],[76,56,48,54],[76,57,48,55],[76,58,48,56,"addTo"],[76,63,48,61],[76,64,48,62,"map"],[76,67,48,65],[76,68,48,66],[77,10,49,8],[77,11,49,9],[77,12,49,10],[78,8,50,6],[78,9,50,7],[78,10,50,8],[79,8,52,6,"mapInstance"],[79,19,52,17],[79,20,52,18,"current"],[79,27,52,25],[79,30,52,28,"map"],[79,33,52,31],[80,6,53,4],[80,7,53,5],[80,8,53,6],[80,15,53,13,"e"],[80,16,53,14],[80,18,53,16],[81,8,54,6],[82,6,54,6],[83,4,56,2],[83,5,56,3],[83,7,56,5],[83,8,56,6,"countries"],[83,17,56,15],[83,19,56,17,"onSelectCountry"],[83,34,56,32],[83,35,56,33],[83,36,56,34],[84,4,58,2],[84,8,58,6,"Platform"],[84,16,58,14],[84,17,58,14,"default"],[84,24,58,14],[84,25,58,15,"OS"],[84,27,58,17],[84,32,58,22],[84,37,58,27],[84,39,58,29],[85,6,59,4],[85,26,59,11],[85,30,59,11,"_reactJsxDevRuntime"],[85,49,59,11],[85,50,59,11,"jsxDEV"],[85,56,59,11],[85,58,59,12,"View"],[85,62,59,16],[85,63,59,16,"default"],[85,70,59,16],[86,8,59,17,"style"],[86,13,59,22],[86,15,59,24,"styles"],[86,21,59,30],[86,22,59,31,"webMap"],[86,28,59,38],[87,8,59,39,"ref"],[87,11,59,42],[87,13,59,44,"mapRef"],[88,6,59,58],[89,8,59,58,"fileName"],[89,16,59,58],[89,18,59,58,"_jsxFileName"],[89,30,59,58],[90,8,59,58,"lineNumber"],[90,18,59,58],[91,8,59,58,"columnNumber"],[91,20,59,58],[92,6,59,58],[92,13,59,60],[92,14,59,61],[93,4,60,2],[94,4,61,2],[94,24,62,4],[94,28,62,4,"_reactJsxDevRuntime"],[94,47,62,4],[94,48,62,4,"jsxDEV"],[94,54,62,4],[94,56,62,5,"View"],[94,60,62,9],[94,61,62,9,"default"],[94,68,62,9],[95,6,62,10,"style"],[95,11,62,15],[95,13,62,17,"styles"],[95,19,62,23],[95,20,62,24,"wrap"],[95,24,62,29],[96,6,62,29,"children"],[96,14,62,29],[96,29,63,6],[96,33,63,6,"_reactJsxDevRuntime"],[96,52,63,6],[96,53,63,6,"jsxDEV"],[96,59,63,6],[96,61,63,7,"MapPlaceholder"],[96,75,63,21],[96,76,63,21,"default"],[96,83,63,21],[97,8,63,22,"countries"],[97,17,63,31],[97,19,63,33,"countries"],[97,28,63,43],[98,8,63,44,"onSelectCountry"],[98,23,63,59],[98,25,63,61,"onSelectCountry"],[99,6,63,77],[100,8,63,77,"fileName"],[100,16,63,77],[100,18,63,77,"_jsxFileName"],[100,30,63,77],[101,8,63,77,"lineNumber"],[101,18,63,77],[102,8,63,77,"columnNumber"],[102,20,63,77],[103,6,63,77],[103,13,63,79],[104,4,63,80],[105,6,63,80,"fileName"],[105,14,63,80],[105,16,63,80,"_jsxFileName"],[105,28,63,80],[106,6,63,80,"lineNumber"],[106,16,63,80],[107,6,63,80,"columnNumber"],[107,18,63,80],[108,4,63,80],[108,11,64,10],[108,12,64,11],[109,2,66,0],[110,2,66,1,"_s"],[110,4,66,1],[110,5,12,24,"DemoMap"],[110,12,12,31],[111,2,12,31,"_c"],[111,4,12,31],[111,7,12,24,"DemoMap"],[111,14,12,31],[112,2,68,0],[112,8,68,6,"styles"],[112,14,68,12],[112,17,68,15,"StyleSheet"],[112,27,68,25],[112,28,68,25,"default"],[112,35,68,25],[112,36,68,26,"create"],[112,42,68,32],[112,43,68,33],[113,4,69,2,"webMap"],[113,10,69,8],[113,12,69,10],[114,6,69,12,"width"],[114,11,69,17],[114,13,69,19],[114,18,69,24],[115,6,69,26,"height"],[115,12,69,32],[115,14,69,34],[115,17,69,37],[116,6,69,39,"borderRadius"],[116,18,69,51],[116,20,69,53],[116,22,69,55],[117,6,69,57,"overflow"],[117,14,69,65],[117,16,69,67],[118,4,69,76],[118,5,69,77],[119,4,70,2,"wrap"],[119,8,70,6],[119,10,70,8],[120,6,70,10,"width"],[120,11,70,15],[120,13,70,17],[120,19,70,23],[121,6,70,25,"alignItems"],[121,16,70,35],[121,18,70,37],[122,4,70,46],[123,2,71,0],[123,3,71,1],[123,4,71,2],[124,2,71,3],[124,6,71,3,"_c"],[124,8,71,3],[125,2,71,3,"$RefreshReg$"],[125,14,71,3],[125,15,71,3,"_c"],[125,17,71,3],[126,0,71,3],[126,3]],"functionMap":{"names":["<global>","DemoMap","useEffect$argument_0","on$argument_1","Object.entries.forEach$argument_0","el.onclick"],"mappings":"AAA;eCW;YCI;qBCsB;uCCC;uBCQ,2BD;SDE;ODC;GDM;CDU"},"hasCjsExports":false},"type":"js/module"}]}