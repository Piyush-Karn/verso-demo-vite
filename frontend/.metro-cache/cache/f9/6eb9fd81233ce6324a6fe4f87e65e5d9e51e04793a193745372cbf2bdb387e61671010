{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"./imageProvider","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":52,"index":122}}],"key":"t0qpMRmUECoEeKRprW6P8NJe1qQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.getCachedImage = getCachedImage;\n  exports.primeImages = primeImages;\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[0], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _imageProvider = require(_dependencyMap[1], \"./imageProvider\");\n  const KEY = q => `img:${q.toLowerCase()}`;\n  _c = KEY;\n  async function getCachedImage(query) {\n    try {\n      const k = KEY(query);\n      const cached = await AsyncStorage.default.getItem(k);\n      if (cached) return cached;\n      const base64 = await (0, _imageProvider.getBase64ForPlace)(query);\n      if (base64) await AsyncStorage.default.setItem(k, base64);\n      return base64;\n    } catch {\n      return null;\n    }\n  }\n  async function primeImages(queries) {\n    try {\n      await Promise.all(queries.map(q => getCachedImage(q)));\n    } catch {\n      // ignore\n    }\n  }\n  var _c;\n  $RefreshReg$(_c, \"KEY\");\n});","lineCount":40,"map":[[12,2,6,0,"exports"],[12,9,6,0],[12,10,6,0,"getCachedImage"],[12,24,6,0],[12,27,6,0,"getCachedImage"],[12,41,6,0],[13,2,19,0,"exports"],[13,9,19,0],[13,10,19,0,"primeImages"],[13,21,19,0],[13,24,19,0,"primeImages"],[13,35,19,0],[14,2,1,0],[14,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[14,42,1,0],[14,45,1,0,"require"],[14,52,1,0],[14,53,1,0,"_dependencyMap"],[14,67,1,0],[15,2,1,0],[15,6,1,0,"AsyncStorage"],[15,18,1,0],[15,21,1,0,"_interopDefault"],[15,36,1,0],[15,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[15,73,1,0],[16,2,2,0],[16,6,2,0,"_imageProvider"],[16,20,2,0],[16,23,2,0,"require"],[16,30,2,0],[16,31,2,0,"_dependencyMap"],[16,45,2,0],[17,2,4,0],[17,8,4,6,"KEY"],[17,11,4,9],[17,14,4,13,"q"],[17,15,4,22],[17,19,4,27],[17,26,4,34,"q"],[17,27,4,35],[17,28,4,36,"toLowerCase"],[17,39,4,47],[17,40,4,48],[17,41,4,49],[17,43,4,51],[18,2,4,52,"_c"],[18,4,4,52],[18,7,4,6,"KEY"],[18,10,4,9],[19,2,6,7],[19,17,6,22,"getCachedImage"],[19,31,6,36,"getCachedImage"],[19,32,6,37,"query"],[19,37,6,50],[19,39,6,76],[20,4,7,2],[20,8,7,6],[21,6,8,4],[21,12,8,10,"k"],[21,13,8,11],[21,16,8,14,"KEY"],[21,19,8,17],[21,20,8,18,"query"],[21,25,8,23],[21,26,8,24],[22,6,9,4],[22,12,9,10,"cached"],[22,18,9,16],[22,21,9,19],[22,27,9,25,"AsyncStorage"],[22,39,9,37],[22,40,9,37,"default"],[22,47,9,37],[22,48,9,38,"getItem"],[22,55,9,45],[22,56,9,46,"k"],[22,57,9,47],[22,58,9,48],[23,6,10,4],[23,10,10,8,"cached"],[23,16,10,14],[23,18,10,16],[23,25,10,23,"cached"],[23,31,10,29],[24,6,11,4],[24,12,11,10,"base64"],[24,18,11,16],[24,21,11,19],[24,27,11,25],[24,31,11,25,"getBase64ForPlace"],[24,45,11,42],[24,46,11,42,"getBase64ForPlace"],[24,63,11,42],[24,65,11,43,"query"],[24,70,11,48],[24,71,11,49],[25,6,12,4],[25,10,12,8,"base64"],[25,16,12,14],[25,18,12,16],[25,24,12,22,"AsyncStorage"],[25,36,12,34],[25,37,12,34,"default"],[25,44,12,34],[25,45,12,35,"setItem"],[25,52,12,42],[25,53,12,43,"k"],[25,54,12,44],[25,56,12,46,"base64"],[25,62,12,52],[25,63,12,53],[26,6,13,4],[26,13,13,11,"base64"],[26,19,13,17],[27,4,14,2],[27,5,14,3],[27,6,14,4],[27,12,14,10],[28,6,15,4],[28,13,15,11],[28,17,15,15],[29,4,16,2],[30,2,17,0],[31,2,19,7],[31,17,19,22,"primeImages"],[31,28,19,33,"primeImages"],[31,29,19,34,"queries"],[31,36,19,51],[31,38,19,53],[32,4,20,2],[32,8,20,6],[33,6,21,4],[33,12,21,10,"Promise"],[33,19,21,17],[33,20,21,18,"all"],[33,23,21,21],[33,24,21,22,"queries"],[33,31,21,29],[33,32,21,30,"map"],[33,35,21,33],[33,36,21,35,"q"],[33,37,21,36],[33,41,21,41,"getCachedImage"],[33,55,21,55],[33,56,21,56,"q"],[33,57,21,57],[33,58,21,58],[33,59,21,59],[33,60,21,60],[34,4,22,2],[34,5,22,3],[34,6,22,4],[34,12,22,10],[35,6,23,4],[36,4,23,4],[37,2,25,0],[38,2,25,1],[38,6,25,1,"_c"],[38,8,25,1],[39,2,25,1,"$RefreshReg$"],[39,14,25,1],[39,15,25,1,"_c"],[39,17,25,1],[40,0,25,1],[40,3]],"functionMap":{"names":["<global>","KEY","getCachedImage","primeImages","queries.map$argument_0"],"mappings":"AAA;YCG,uCD;OEE;CFW;OGE;kCCE,wBD"},"hasCjsExports":false},"type":"js/module"}]}